/* Minimal, professional, mobile-first styles */
:root{
  --bg-1: #06131f;
  --bg-2: #0f1020;
  --glass: rgba(255,255,255,0.06);
  --panel: rgba(10,12,18,0.72);
  --accent: #7be7ff;
  --radius: 14px;
  --font: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:var(--font);-webkit-font-smoothing:antialiased;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#e9f5ff}
.sr{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}

#nebula{
  position:fixed;inset:0;z-index:0;pointer-events:none;
  background:
    radial-gradient(closest-side at 10% 30%, rgba(128,96,255,0.09), transparent 15%),
    radial-gradient(closest-side at 85% 70%, rgba(0,230,160,0.06), transparent 18%),
    radial-gradient(closest-side at 50% 50%, rgba(123,231,255,0.05), transparent 25%);
  filter: blur(36px) saturate(1.08);
  animation: nebMove 28s linear infinite alternate;
}
@keyframes nebMove { from{transform:translateY(0) scale(1)} to{transform:translateY(-30px) scale(1.02)} }

/* UI top-left */
#ui{position:fixed;left:14px;top:14px;z-index:30}
.uiBtn{background:var(--panel);border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:10px;color:#eaf7ff;cursor:pointer}
.panel{margin-top:8px;background:var(--panel);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);width:300px}
.hidden{display:none}
.topList{margin-top:8px;max-height:36vh;overflow:auto}
.topList .row{display:flex;justify-content:space-between;padding:8px 6px;border-bottom:1px solid rgba(255,255,255,0.02);font-size:14px}

/* Stage / bubbles */
#stage{position:fixed;inset:0;z-index:6;display:block;padding:24px;pointer-events:none}

/* bubble base */
.bubble{
  position:absolute;
  pointer-events:auto;
  width:120px;height:120px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  color:#ffffff;font-weight:700;text-align:center;
  backdrop-filter: blur(4px);
  transition: transform .22s ease, box-shadow .22s ease;
  cursor:pointer;
  user-select:none;
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
}

/* iridescent fills (soft) */
.bubble .glass{
  position:absolute;inset:10%;border-radius:50%;pointer-events:none;
  background:radial-gradient(circle at 30% 25%, rgba(255,255,255,0.8), rgba(255,255,255,0.06) 30%, transparent 60%);
  mix-blend-mode:screen;
}
.bubble .label{position:relative;z-index:2;font-size:13px;text-shadow:0 6px 16px rgba(0,0,0,0.6)}

/* individual colors (iridescent but genre-aware) */
.bubble[data-genre="techno"]{ background: radial-gradient(circle at 30% 30%, rgba(198,108,255,0.85), rgba(198,108,255,0.18)); }
.bubble[data-genre="house"]{ background: radial-gradient(circle at 30% 30%, rgba(0,226,163,0.86), rgba(0,226,163,0.18)); }
.bubble[data-genre="dnb"]{ background: radial-gradient(circle at 30% 30%, rgba(51,215,255,0.86), rgba(51,215,255,0.18)); }
.bubble[data-genre="dub"]{ background: radial-gradient(circle at 30% 30%, rgba(255,184,107,0.86), rgba(255,184,107,0.18)); }
.bubble[data-genre="elect"]{ background: radial-gradient(circle at 30% 30%, rgba(216,107,255,0.86), rgba(216,107,255,0.18)); }
.bubble[data-genre="main"]{ background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.92), rgba(255,255,255,0.24)); color:#081220 }

/* subtle orbiting dust (pseudo) */
.bubble::before, .bubble::after{
  content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:50%;pointer-events:none;mix-blend-mode:screen;
}
.bubble::before{width:220px;height:220px;filter:blur(18px);opacity:0.18;animation:spin 16s linear infinite}
.bubble::after{width:320px;height:320px;filter:blur(34px);opacity:0.08;animation:spinRev 28s linear infinite}
@keyframes spin{from{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}
@keyframes spinRev{from{transform:translate(-50%,-50%) rotate(360deg)}to{transform:translate(-50%,-50%) rotate(0deg)}}

/* hover/active style */
.bubble:active, .bubble:hover{ transform: scale(1.08); box-shadow: 0 30px 80px rgba(0,0,0,0.6) }

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:80;background:linear-gradient(180deg, rgba(0,0,0,0.36), rgba(0,0,0,0.6))}
.modal.hidden{display:none}
.modalCard{width:min(520px,92vw);background:rgba(6,8,15,0.98);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);position:relative}
.closeX{position:absolute;right:12px;top:10px;background:transparent;border:none;font-size:18px;color:#dfefff;cursor:pointer}
.modalCard h2{margin:0 0 6px 0}
.modalCard .muted{margin:0 0 10px 0;color:#9fb7d6}
.modalCard input, .modalCard textarea{
  width:100%;padding:10px;border-radius:10px;border:none;margin-top:8px;background:rgba(255,255,255,0.03);color:#fff;font-size:15px
}
.modalActions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.btnLight{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:#eaf7ff}
.btnPrimary{background:#19b56a;border:none;padding:8px 12px;border-radius:8px;color:white;cursor:pointer}

/* small screen adjustments */
@media (max-width:640px){
  .bubble{width:92px;height:92px}
  .modalCard{padding:14px}
  #ui .panel{width:88vw}
}
